Wazuh has no private pcfae.com or public domain. 
some dashboard entries are blank in homarr
dolibarr

### remove the base portainer install on pirates-wdda which was migrated to harbormaster


### add to the configuration of mailcow (/mnt/app_data/Server/_docker_stack/mailcow-dockerized/data/conf/unbound/unbound.conf) the dns forwarding additions (at the end of the file)
```
forward-zone:
  name: "."
  forward-addr: 10.0.0.1
  forward-addr: 10.0.0.2
  forward-addr: 1.1.1.1
  forward-addr: 8.8.8.8
  ```
In the dns hosts make sure systemd-resolved.service does not prevent docker from starting when adguard is intended to be ran for dns with the same port... ~ dependency on dependency scenario. üòÅ
sudo systemctl start systemd-resolved.service # I accidentally stopped this before starting adguard... Is this absolutely necessary?
docker container start adguard
sudo systemctl stop systemd-resolved.service


In the monitoring-agents, loki-docker-driver detect for if the driver not being enabled on run causes the whole docker service/socket disconnect.
then resolve it by removing the loki driver stuff from /etc/docker/daemon.json
sudo systemctl start docker.socket
sudo systemctl start docker.service
then replace the desired docker.daemon config.
sudo systemctl restart docker



### Parse for the relevant info only @ fusionpbx-debian the output from the install.sh command:

"msg": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nlsb-release is already the newest version (12.0-1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nCorrect CPU and Operating System detected\nUpdate installed packages\nHit:1 http://deb.debian.org/debian bookworm InRelease\nHit:2 http://deb.debian.org/debian bookworm-updates InRelease\nHit:3 http://security.debian.org/debian-security bookworm-security InRelease\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nCalculating upgrade...\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nwget is already the newest version (1.21.3-1+deb12u1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nlsb-release is already the newest version (12.0-1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nsystemd is already the newest version (252.38-1~deb12u1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nsystemd-sysv is already the newest version (252.38-1~deb12u1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20230311+deb12u1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  dialog\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 284 kB of archives.\nAfter this operation, 1,242 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bookworm/main amd64 dialog amd64 1.3-20230209-1 [284 kB]\nFetched 284 kB in 0s (2,489 kB/s)\nSelecting previously unselected package dialog.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 38517 files and directories currently installed.)\r\nPreparing to unpack .../dialog_1.3-20230209-1_amd64.deb ...\r\nUnpacking dialog (1.3-20230209-1) ...\r\nSetting up dialog (1.3-20230209-1) ...\r\nProcessing triggers for man-db (2.11.2-2) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\nnano is already the newest version (7.2-1+deb12u1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  net-tools\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 243 kB of archives.\nAfter this operation, 1,001 kB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security bookworm-security/main amd64 net-tools amd64 2.10-0.1+deb12u2 [243 kB]\nFetched 243 kB in 0s (3,258 kB/s)\nSelecting previously unselected package net-tools.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r

...

database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 64266 files and directories currently installed.)\r\nPreparing to unpack .../0-postgresql-client-common_278.pgdg120+1_all.deb ...\r\nUnpacking postgresql-client-common (278.pgdg120+1) ...\r\nSelecting previously unselected package postgresql-common-dev.\r\nPreparing to unpack .../1-postgresql-common-dev_278.pgdg120+1_all.deb ...\r\nUnpacking postgresql-common-dev (278.pgdg120+1) ...\r\nSelecting previously unselected package postgresql-common.\r\nPreparing to unpack .../2-postgresql-common_278.pgdg120+1_all.deb ...\r\nAdding 'diversion of /usr/bin/pg_config to /usr/bin/pg_config.libpq-dev by postgresql-common'\r\nUnpacking postgresql-common (278.pgdg120+1) ...\r\nSelecting previously unselected package libllvm19:amd64.\r\nPreparing to unpack .../3-libllvm19_1%3a19.1.4-1~deb12u1_amd64.deb ...\r\nUnpacking libllvm19:amd64 (1:19.1.4-1~deb12u1) ...\r\nSelecting previously unselected package postgresql-client-17.\r\nPreparing to unpack .../4-postgresql-client-17_17.5-1.pgdg120+1_amd64.deb ...\r\nUnpacking postgresql-client-17 (17.5-1.pgdg120+1) ...\r\nSelecting previously unselected package postgresql-17.\r\nPreparing to unpack .../5-postgresql-17_17.5-1.pgdg120+1_amd64.deb ...\r\nUnpacking postgresql-17 (17.5-1.pgdg120+1) ...\r\nSelecting previously unselected package sysstat.\r\nPreparing to unpack .../6-sysstat_12.6.1-1_amd64.deb ...\r\nUnpacking sysstat (12.6.1-1) ...\r\nSetting up postgresql-client-common (278.pgdg120+1) ...\r\nSetting up libllvm19:amd64 (1:19.1.4-1~deb12u1) ...\r\nSetting up postgresql-client-17 (17.5-1.pgdg120+1) ...\r\nupdate-alternatives: using /usr/share/postgresql/17/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode\r\nSetting up sysstat (12.6.1-1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)\r\ndebconf: falling back to frontend: Readline\r\n\r\nCreating config file /etc/default/sysstat with new version\r\nupdate-alternatives: using /usr/bin/sar.sysstat to provide /usr/bin/sar (sar) in auto mode\r\nCreated symlink /etc/systemd/system/sysstat.service.wants/sysstat-collect.timer ‚Üí /lib/systemd/system/sysstat-collect.timer.\r\r\nCreated symlink /etc/systemd/system/sysstat.service.wants/sysstat-summary.timer ‚Üí /lib/systemd/system/sysstat-summary.timer.\r\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/sysstat.service ‚Üí /lib/systemd/system/sysstat.service.\r\r\nSetting up postgresql-common-dev (278.pgdg120+1) ...\r\nSetting up postgresql-common (278.pgdg120+1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)\r\ndebconf: falling back to frontend: Readline\r\n\r\nCreating config file /etc/postgresql-common/createcluster.conf with new version\r\nBuilding PostgreSQL dictionaries from installed myspell/hunspell packages...\r\nRemoving obsolete dictionary files:\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/postgresql.service ‚Üí /lib/systemd/system/postgresql.service.\r\r\nSetting up postgresql-17 (17.5-1.pgdg120+1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)\r\ndebconf: falling back to frontend: Readline\r\nCreating new PostgreSQL cluster 17/main ...\r\n/usr/lib/postgresql/17/bin/initdb -D /var/lib/postgresql/17/main --auth-local peer --auth-host scram-sha-256 --no-instructions\r\nThe files belonging to this database system will be owned by user \"postgres\".\r\nThis user must also own the server process.\r\n\r\nThe database cluster will be initialized with locale \"en_US.UTF-8\".\r\nThe default database encoding has accordingly been set to \"UTF8\".\r\nThe default text search configuration will be set to \"english\".\r\n\r\nData page checksums are disabled.\r\n\r\nfixing permissions on existing directory /var/lib/postgresql/17/main ... ok\r\ncreating subdirectories ... ok\r\nselecting dynamic shared memory implementation ... posix\r\nselecting default \"max_connections\" ... 100\r\nselecting default \"shared_buffers\" ... 128MB\r\nselecting default time zone ... US/Pacific\r\ncreating configuration files ... ok\r\nrunning bootstrap script ... ok\r\nperforming post-bootstrap initialization ... ok\r\nsyncing data to disk ... ok\r\nProcessing triggers for man-db (2.11.2-2) ...\r\nProcessing triggers for libc-bin (2.36-9+deb12u10) ...\r\n pg_reload_conf \n----------------\n t\n(1 row)\n\nSET\nCREATE DATABASE\nCREATE ROLE\nGRANT\nALTER ROLE\nINSERT 0 1\n\nApp Defaults Executed\nINSERT 0 1\nINSERT 0 1\n\nUpgrade\n-----------------------------------------\n\nDatabase\n\tSchema:\t\t\tNo Change\n\nApp Defaults Executed\n\nReading package lists...\nBuilding dependency tree...\nReading state information...\ncron is already the newest version (3.0pl1-162).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n\n\nInstallation Notes. \n\n   Please save this information and reboot this system to complete the install. \n\n   Use a web browser to login.\n      domain name: https://10.30.1.69\n      username: admin\n      password: lttTW19GxkVPza9nmCuxXO1mf0\n\n   The domain name in the browser is used by default as part of the authentication.\n   If you need to login to a different domain then use username@domain.\n      username: admin@10.30.1.69\n\n   Official FusionPBX Training\n      Fastest way to learn FusionPBX. For more information https://www.fusionpbx.com.\n      Available online and in person. Includes documentation and recording.\n\n      Location:               Online\n      Admin Training:          TBA\n      Advanced Training:       TBA\n      Continuing Education:   https://www.fusionpbx.com/training\n      Timezone:               https://www.timeanddate.com/weather/usa/idaho\n\n   Additional information.\n      https://fusionpbx.com/members.php\n      https://fusionpbx.com/training.php\n      https://fusionpbx.com/support.php\n      https://www.fusionpbx.com\n      http://docs.fusionpbx.com"


ansible_user_id needs to be provided in the docker deployment ....
and same conf stuff needs to be ensuring only done once in the script...
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: ceph-rbd-retain
  annotations:
    storageclass.kubernetes.io/is-default-class: "false"
parameters:
  # Ceph cluster ID from the existing configuration
  clusterID: 0985467c-d8f3-4483-b27f-f0a512397ec2
  csi.storage.k8s.io/controller-expand-secret-name: ceph-secret
  csi.storage.k8s.io/controller-expand-secret-namespace: ceph-csi
  csi.storage.k8s.io/fstype: ext4
  csi.storage.k8s.io/node-stage-secret-name: ceph-secret-user
  csi.storage.k8s.io/node-stage-secret-namespace: ceph-csi
  csi.storage.k8s.io/provisioner-secret-name: ceph-secret
  csi.storage.k8s.io/provisioner-secret-namespace: ceph-csi
  imageFeatures: layering
  pool: dungeon
provisioner: rbd.csi.ceph.com
allowVolumeExpansion: true
# CRITICAL: Retain policy prevents data loss when PVC is deleted
# The PV will remain after PVC deletion and must be manually cleaned up
reclaimPolicy: Retain
volumeBindingMode: Immediate
mountOptions:
  - discard
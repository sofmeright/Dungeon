# DERIVED: ports from HTTPRoute backendRefs targeting this namespace.
# Inputs: kubectl get httproutes.gateway.networking.k8s.io -A -o json
# Key: (gateway parentRef -> {xylem|phloem|cell-membrane}) + backendRef.port
# Regenerate; do not hand-edit.
apiVersion: security.istio.io/v1
kind: AuthorizationPolicy
metadata:
  name: allow-gateway-ingress-xylem
spec:
  selector:
    matchLabels:
      policy.prplanit.com/ingress: "true"
  action: ALLOW
  rules:
    - from:
        - source:
            principals:
              - cluster.local/ns/arylls-lookout/sa/xylem-gateway-istio
      to:
        - operation:
            ports: ["3000", "5056", "6767", "6887", "7878", "8015", "8080", "8227", "8686", "8787", "8945", "8989", "9000", "9168", "9696"]

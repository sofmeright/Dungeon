apiVersion: v1
kind: Service
metadata:
  name: ntfy-smtp
  labels:
    app.kubernetes.io/name: ntfy
  annotations:
    lbipam.cilium.io/ips: "172.22.30.102"
    lbipam.cilium.io/sharing-key: "delivery-bag"
    lbipam.cilium.io/sharing-cross-namespace: "*"
    gatus.home-operations.com/endpoint: |
      group: "Notifications (Delivery BagðŸ“¬)"
      url: tcp://172.22.30.102:25
      interval: 60s
      conditions:
        - "[CONNECTED] == true"
spec:
  type: LoadBalancer
  selector:
    app.kubernetes.io/name: ntfy
  ports:
    - port: 25
      targetPort: 25
      protocol: TCP
      name: smtp

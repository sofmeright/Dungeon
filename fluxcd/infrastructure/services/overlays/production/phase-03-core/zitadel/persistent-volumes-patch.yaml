# Production-specific values for Zitadel named RBD volumes
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: zeldas-lullaby-zitadel-postgres-1
spec:
  capacity:
    storage: 12Gi
  storageClassName: ceph-rbd-retain
  csi:
    volumeAttributes:
      clusterID: 0985467c-d8f3-4483-b27f-f0a512397ec2
      pool: dungeon
    nodeStageSecretRef:
      name: ceph-secret-user
      namespace: kube-system
    controllerExpandSecretRef:
      name: ceph-secret
      namespace: kube-system
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: zeldas-lullaby-zitadel-postgres-2
spec:
  capacity:
    storage: 12Gi
  storageClassName: ceph-rbd-retain
  csi:
    volumeAttributes:
      clusterID: 0985467c-d8f3-4483-b27f-f0a512397ec2
      pool: dungeon
    nodeStageSecretRef:
      name: ceph-secret-user
      namespace: kube-system
    controllerExpandSecretRef:
      name: ceph-secret
      namespace: kube-system
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: zeldas-lullaby-zitadel-postgres-3
spec:
  capacity:
    storage: 12Gi
  storageClassName: ceph-rbd-retain
  csi:
    volumeAttributes:
      clusterID: 0985467c-d8f3-4483-b27f-f0a512397ec2
      pool: dungeon
    nodeStageSecretRef:
      name: ceph-secret-user
      namespace: kube-system
    controllerExpandSecretRef:
      name: ceph-secret
      namespace: kube-system
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: zitadel-postgres-1
spec:
  resources:
    requests:
      storage: 12Gi
  storageClassName: ceph-rbd-retain
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: zitadel-postgres-2
spec:
  resources:
    requests:
      storage: 12Gi
  storageClassName: ceph-rbd-retain
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: zitadel-postgres-3
spec:
  resources:
    requests:
      storage: 12Gi
  storageClassName: ceph-rbd-retain

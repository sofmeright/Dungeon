apiVersion: v1
kind: ConfigMap
metadata:
  name: appflowy-app-config
  labels:
    app: appflowy
data:
  # Logging configuration
  RUST_LOG: "info"

  # Admin Frontend URLs (internal cluster DNS)
  ADMIN_FRONTEND_REDIS_URL: "redis://appflowy-redis:6379"
  ADMIN_FRONTEND_GOTRUE_URL: "http://appflowy-gotrue:9999"
  ADMIN_FRONTEND_APPFLOWY_CLOUD_URL: "http://appflowy-cloud:8000"
  ADMIN_FRONTEND_PATH_PREFIX: "/admin"

  # AI Service Configuration
  AI_SERVER_PORT: "5001"
  AI_REDIS_URL: "redis://appflowy-redis:6379"

  # Worker Configuration
  APPFLOWY_WORKER_REDIS_URL: "redis://appflowy-redis:6379"

  # S3/MinIO Configuration
  APPFLOWY_S3_USE_MINIO: "true"
  APPFLOWY_S3_MINIO_URL: "http://appflowy-minio:9000"
  APPFLOWY_S3_BUCKET: "appflowy"
  APPFLOWY_S3_REGION: "us-east-1"

  # SMTP Configuration (non-sensitive)
  APPFLOWY_MAILER_SMTP_HOST: "smtp.gmail.com"
  APPFLOWY_MAILER_SMTP_PORT: "587"
  APPFLOWY_MAILER_SMTP_TLS_KIND: "starttls"

  # AppFlowy Cloud Configuration
  APPFLOWY_BASE_URL: "http://appflowy-cloud:8000"
  API_EXTERNAL_URL: "https://appflowy.precisionplanit.com"

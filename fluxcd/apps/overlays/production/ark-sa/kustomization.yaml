apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- externalsecret.yaml
- theisland-statefulset.yaml
- theisland-service.yaml
- valguero-statefulset.yaml
- valguero-service.yaml
- cephfs-init.yaml
- cephfs-static-pvs.yaml
- admin-list-service.yaml
patches:
- target:
    kind: ExternalSecret
  patch: |-
    - op: add
      path: /metadata/namespace
      value: shooting-gallery
- target:
    kind: StatefulSet
  patch: |-
    - op: add
      path: /metadata/namespace
      value: shooting-gallery
- target:
    kind: Service
  patch: |-
    - op: add
      path: /metadata/namespace
      value: shooting-gallery
- target:
    kind: PersistentVolumeClaim
  patch: |-
    - op: add
      path: /metadata/namespace
      value: shooting-gallery
- target:
    kind: Job
    name: ark-sa-cephfs-mkdir
  patch: |-
    - op: add
      path: /metadata/namespace
      value: shooting-gallery
- target:
    kind: Job
    name: ark-sa-tmc-cephfs-init
  patch: |-
    - op: add
      path: /metadata/namespace
      value: shooting-gallery
- target:
    kind: Deployment
  patch: |-
    - op: add
      path: /metadata/namespace
      value: shooting-gallery
- target:
    kind: ConfigMap
  patch: |-
    - op: add
      path: /metadata/namespace
      value: shooting-gallery
